<!DOCTYPE html>
<html lang="en">

<head>
     @@include("partials/title-meta.html", {"sub-title": "Fuel Logs"})
     @@include("partials/head-css.html")
     <style>
          /* Fuel Logs Control - Custom Page Styles */
          .fuel-logs-wrapper {
               display: flex;
               height: 100vh;
               overflow: hidden;
          }

          .fuel-logs-main {
               flex: 1;
               display: flex;
               flex-direction: column;
               overflow: hidden;
               background: #F5F7FA;
          }

          /* Custom header replacing topbar for this page */
          .fuel-logs-header {
               display: flex;
               align-items: center;
               justify-content: space-between;
               padding: 0 32px;
               height: 64px;
               background: #fff;
               border-bottom: 1px solid rgba(0, 0, 0, 0.08);
               flex-shrink: 0;
          }

          .fuel-logs-page-title {
               font-size: 18px;
               font-weight: 600;
               color: #0F1723;
               margin: 0;
          }

          .fuel-logs-sync-info {
               display: flex;
               align-items: center;
               gap: 16px;
          }

          .sync-text-group {
               display: flex;
               align-items: center;
               gap: 8px;
               color: #94A3B8;
               font-size: 13px;
          }

          .user-avatar {
               width: 32px;
               height: 32px;
               border-radius: 50%;
               background: #E2E8F0;
               flex-shrink: 0;
          }

          /* Content scrollable area */
          .fuel-logs-content {
               flex: 1;
               overflow-y: auto;
               padding: 24px 32px;
          }

          /* Summary Cards */
          .summary-card {
               background: #fff;
               border: 1px solid rgba(0, 0, 0, 0.08);
               border-radius: 8px;
               box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.02);
               padding: 16px 20px;
               height: 100%;
               display: flex;
               flex-direction: column;
               justify-content: space-between;
               gap: 8px;
          }

          .summary-card-label {
               font-size: 11px;
               font-weight: 500;
               color: #94A3B8;
               letter-spacing: 0.24px;
               text-transform: uppercase;
               margin-bottom: 4px;
          }

          .summary-card-value {
               font-size: 24px;
               font-weight: 700;
               color: #0F1723;
               line-height: 1.2;
          }

          .summary-card-value .value-unit {
               font-size: 14px;
               font-weight: 500;
               color: #94A3B8;
               margin-left: 4px;
          }

          .summary-card-status {
               font-size: 12px;
               font-weight: 500;
          }

          .status-requires-action { color: #C24B28; }
          .status-operational { color: #16A34A; }
          .status-warning { color: #C24B28; }
          .status-muted { color: #94A3B8; }

          .summary-card-value-warning {
               font-size: 24px;
               font-weight: 700;
               color: #C24B28;
               line-height: 1.2;
          }

          /* Filter Bar */
          .filter-bar {
               display: flex;
               align-items: center;
               gap: 8px;
               flex-wrap: wrap;
          }

          .filter-dropdown-btn {
               display: flex;
               align-items: center;
               gap: 6px;
               padding: 8px 12px;
               border: 1px solid rgba(0, 0, 0, 0.08);
               border-radius: 6px;
               background: #fff;
               font-size: 13px;
               font-weight: 500;
               color: #23303F;
               cursor: pointer;
               white-space: nowrap;
               font-family: inherit;
          }

          .filter-dropdown-btn:hover {
               background: #F5F7FA;
          }

          .log-fuel-btn {
               display: flex;
               align-items: center;
               gap: 4px;
               padding: 8px 14px;
               border: 1px solid #0F1723;
               border-radius: 6px;
               background: #0F1723;
               color: #fff;
               font-size: 13px;
               font-weight: 500;
               cursor: pointer;
               white-space: nowrap;
               font-family: inherit;
               margin-left: auto;
          }

          .log-fuel-btn:hover {
               background: #1a2535;
          }

          /* Fuel Logs Table */
          .fuel-logs-table-card {
               background: #fff;
               border: 1px solid rgba(0, 0, 0, 0.08);
               border-radius: 8px;
               box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.04);
               overflow: hidden;
          }

          .fuel-table {
               width: 100%;
               border-collapse: collapse;
          }

          .fuel-table thead {
               background: #F0F3F5;
               border-bottom: 1px solid rgba(0, 0, 0, 0.08);
          }

          .fuel-table thead th {
               font-size: 11px;
               font-weight: 600;
               color: #94A3B8;
               letter-spacing: 0.44px;
               text-transform: uppercase;
               padding: 14px 16px;
               white-space: nowrap;
               border: none;
          }

          .fuel-table thead th.align-right {
               text-align: right;
          }

          .fuel-table tbody tr {
               border-bottom: 1px solid rgba(0, 0, 0, 0.08);
          }

          .fuel-table tbody tr:last-child {
               border-bottom: none;
          }

          .fuel-table tbody tr.row-pending-highlight {
               background: #F2F6FF;
          }

          .fuel-table tbody td {
               padding: 16px;
               vertical-align: middle;
               border: none;
               font-size: 13px;
               color: #0F1723;
          }

          .fuel-table tbody td.align-right {
               text-align: right;
          }

          /* Status Badges */
          .status-badge {
               display: inline-flex;
               align-items: center;
               padding: 4px 10px;
               border-radius: 999px;
               font-size: 11px;
               font-weight: 600;
               white-space: nowrap;
          }

          .badge-pending {
               background: #FFF0E9;
               color: #C24B28;
          }

          .badge-suggested {
               background: #EFF6FF;
               color: #2563EB;
          }

          .badge-locked {
               background: #F0FDF4;
               color: #16A34A;
               border: 1px solid #BBF7D0;
          }

          .badge-billed {
               background: #F1F5F9;
               color: #64748B;
               border: 1px solid #E2E8F0;
          }

          /* Boat Name */
          .boat-name {
               font-size: 13px;
               font-weight: 600;
               color: #0F1723;
               margin-bottom: 2px;
          }

          .boat-location {
               font-size: 11px;
               color: #94A3B8;
               font-weight: 400;
          }

          /* Date Time */
          .fuel-date {
               font-size: 13px;
               color: #0F1723;
               font-weight: 400;
               margin-bottom: 2px;
          }

          .fuel-time {
               font-size: 11px;
               color: #94A3B8;
               font-weight: 400;
          }

          /* Cost */
          .total-cost {
               font-size: 13px;
               font-weight: 600;
               color: #0F1723;
          }

          /* Reservations Linked */
          .reservations-linked-link {
               color: #3B63FF;
               font-size: 13px;
               font-weight: 500;
               text-decoration: none;
          }

          .reservations-linked-link:hover {
               text-decoration: underline;
               color: #2948FF;
          }

          /* Progress Bar */
          .allocation-progress-cell {
               display: flex;
               align-items: center;
               gap: 8px;
          }

          .progress-bar-track {
               width: 60px;
               height: 6px;
               border-radius: 999px;
               background: #F2F6FF;
               overflow: hidden;
               flex-shrink: 0;
          }

          .progress-bar-fill {
               height: 100%;
               border-radius: 999px;
          }

          .progress-fill-blue { background: #3B63FF; }
          .progress-fill-blue-auto { background: #3B63FF; opacity: 0.5; }
          .progress-fill-gray { background: #94A3B8; }

          .progress-bar-track.track-gray { background: #F0F3F5; }

          .progress-label {
               font-size: 11px;
               color: #94A3B8;
               white-space: nowrap;
          }

          /* Aging */
          .aging-text {
               font-size: 13px;
               color: #94A3B8;
               white-space: nowrap;
          }

          .aging-text-warning {
               font-size: 13px;
               color: #C24B28;
               font-weight: 500;
               white-space: nowrap;
          }

          /* Action Buttons */
          .action-btn {
               display: inline-flex;
               align-items: center;
               justify-content: center;
               padding: 6px 12px;
               border-radius: 6px;
               font-size: 12px;
               font-weight: 500;
               cursor: pointer;
               white-space: nowrap;
               font-family: inherit;
               text-decoration: none;
          }

          .action-btn-dark {
               background: #0F1723;
               border: 1px solid #0F1723;
               color: #fff;
          }

          .action-btn-dark:hover {
               background: #1a2535;
               color: #fff;
          }

          .action-btn-outline {
               background: #fff;
               border: 1px solid rgba(0, 0, 0, 0.08);
               color: #0F1723;
          }

          .action-btn-outline:hover {
               background: #F5F7FA;
               color: #0F1723;
          }

          /* Percentage text in progress */
          .progress-percent {
               font-size: 11px;
               color: #94A3B8;
          }

          @media (max-width: 1200px) {
               .fuel-logs-content {
                    padding: 20px 20px;
               }

               .fuel-logs-header {
                    padding: 0 20px;
               }
          }

          @media (max-width: 991px) {
               .fuel-table thead th,
               .fuel-table tbody td {
                    padding: 12px 10px;
               }

               .fuel-logs-content {
                    padding: 16px;
               }

               .fuel-logs-header {
                    padding: 0 16px;
               }
          }

          @media (max-width: 767px) {
               .fuel-table-wrapper {
                    overflow-x: auto;
               }

               .filter-bar {
                    gap: 6px;
               }
          }

          /* ── Fuel Log Drawer ── */
          .fuel-log-overlay {
               position: fixed;
               inset: 0;
               background: rgba(0, 0, 0, 0.40);
               z-index: 1050;
               opacity: 0;
               visibility: hidden;
               transition: opacity 0.3s ease, visibility 0.3s ease;
          }

          .fuel-log-overlay.active {
               opacity: 1;
               visibility: visible;
          }

          .fuel-log-drawer {
               position: fixed;
               top: 0;
               right: 0;
               height: 100vh;
               width: 520px;
               max-width: 100vw;
               background: #fff;
               box-shadow: -4px 0 24px 0 rgba(0, 0, 0, 0.15);
               z-index: 1051;
               display: flex;
               flex-direction: column;
               transform: translateX(100%);
               transition: transform 0.3s ease;
          }

          .fuel-log-drawer.active {
               transform: translateX(0);
          }

          .drawer-header {
               display: flex;
               align-items: center;
               justify-content: space-between;
               padding: 20px 24px;
               border-bottom: 1px solid rgba(0, 0, 0, 0.08);
               flex-shrink: 0;
          }

          .drawer-header-left {
               display: flex;
               align-items: center;
               gap: 12px;
          }

          .drawer-title {
               font-size: 18px;
               font-weight: 600;
               color: #0F1723;
               margin: 0;
          }

          .drawer-close-btn {
               background: none;
               border: none;
               padding: 4px;
               cursor: pointer;
               display: flex;
               align-items: center;
               color: #94A3B8;
               line-height: 1;
          }

          .drawer-close-btn:hover {
               color: #64748B;
          }

          .drawer-body {
               flex: 1;
               overflow-y: auto;
               padding: 24px;
               display: flex;
               flex-direction: column;
               gap: 24px;
          }

          .drawer-field-group {
               display: flex;
               flex-direction: column;
               gap: 8px;
          }

          .drawer-field-label {
               font-size: 13px;
               font-weight: 500;
               color: #23303F;
          }

          .drawer-boat-selector {
               display: flex;
               align-items: center;
               gap: 12px;
               padding: 12px;
               border: 1px solid rgba(0, 0, 0, 0.08);
               border-radius: 6px;
               background: #fff;
               cursor: pointer;
          }

          .drawer-boat-icon {
               width: 32px;
               height: 32px;
               background: #F2F6FF;
               border-radius: 4px;
               display: flex;
               align-items: center;
               justify-content: center;
               flex-shrink: 0;
          }

          .drawer-boat-info {
               flex: 1;
          }

          .drawer-boat-name {
               font-size: 14px;
               font-weight: 500;
               color: #0F1723;
               line-height: 1.3;
          }

          .drawer-boat-meta {
               font-size: 12px;
               color: #94A3B8;
               font-weight: 400;
          }

          .drawer-row {
               display: flex;
               gap: 16px;
          }

          .drawer-row .drawer-field-group {
               flex: 1;
          }

          .drawer-input {
               width: 100%;
               padding: 10px 12px;
               border: 1px solid rgba(0, 0, 0, 0.08);
               border-radius: 6px;
               font-size: 14px;
               color: #0F1723;
               background: #fff;
               font-family: inherit;
               outline: none;
          }

          .drawer-input:focus {
               border-color: #3B63FF;
          }

          .drawer-input-with-suffix {
               position: relative;
               display: flex;
               align-items: center;
          }

          .drawer-input-with-suffix input {
               padding-right: 36px;
          }

          .drawer-input-suffix {
               position: absolute;
               right: 12px;
               font-size: 13px;
               color: #94A3B8;
               pointer-events: none;
          }

          .drawer-input-with-prefix {
               position: relative;
               display: flex;
               align-items: center;
          }

          .drawer-input-with-prefix input {
               padding-left: 28px;
          }

          .drawer-input-prefix {
               position: absolute;
               left: 12px;
               font-size: 13px;
               color: #94A3B8;
               pointer-events: none;
          }

          .drawer-total-cost {
               display: flex;
               align-items: center;
               justify-content: space-between;
               padding: 14px 16px;
               background: #F5F7FA;
               border-radius: 6px;
          }

          .drawer-total-cost-label {
               font-size: 13px;
               color: #94A3B8;
               font-weight: 400;
          }

          .drawer-total-cost-value {
               font-size: 18px;
               font-weight: 700;
               color: #0F1723;
          }

          .drawer-staff-box {
               padding: 12px 16px;
               border: 1px solid rgba(0, 0, 0, 0.08);
               border-radius: 6px;
               font-size: 14px;
               color: #0F1723;
               background: #fff;
          }

          .drawer-upload-area {
               display: flex;
               flex-direction: column;
               align-items: center;
               justify-content: center;
               gap: 8px;
               padding: 32px 16px;
               border: 1.5px dashed rgba(0, 0, 0, 0.12);
               border-radius: 6px;
               background: #F8FAFF;
               cursor: pointer;
               text-align: center;
          }

          .drawer-upload-area:hover {
               background: #EFF4FF;
          }

          .drawer-upload-text {
               font-size: 13px;
               font-weight: 500;
               color: #94A3B8;
          }

          .drawer-textarea {
               width: 100%;
               padding: 10px 12px;
               border: 1px solid rgba(0, 0, 0, 0.08);
               border-radius: 6px;
               font-size: 14px;
               color: #757575;
               background: #fff;
               font-family: inherit;
               outline: none;
               resize: vertical;
               min-height: 80px;
          }

          .drawer-textarea:focus {
               border-color: #3B63FF;
               color: #0F1723;
          }

          .drawer-footer {
               display: flex;
               align-items: center;
               gap: 12px;
               padding: 20px 24px;
               border-top: 1px solid rgba(0, 0, 0, 0.08);
               background: #F5F7FA;
               flex-shrink: 0;
          }

          .drawer-cancel-btn {
               flex: 1;
               padding: 12px 16px;
               border: 1px solid rgba(0, 0, 0, 0.08);
               border-radius: 6px;
               background: #fff;
               font-size: 13px;
               font-weight: 600;
               color: #0F1723;
               cursor: pointer;
               font-family: inherit;
               text-align: center;
          }

          .drawer-cancel-btn:hover {
               background: #F5F7FA;
          }

          .drawer-save-btn {
               flex: 1;
               padding: 13px 16px;
               border: none;
               border-radius: 6px;
               background: #3B63FF;
               font-size: 13px;
               font-weight: 600;
               color: #fff;
               cursor: pointer;
               font-family: inherit;
               text-align: center;
          }

          .drawer-save-btn:hover {
               background: #2948FF;
          }

          @media (max-width: 576px) {
               .fuel-log-drawer {
                    width: 100vw;
               }
          }

          /* ── Allocation Split Drawer ── */
          .allocation-drawer-overlay {
               position: fixed;
               inset: 0;
               background: rgba(0, 0, 0, 0.40);
               z-index: 1050;
               opacity: 0;
               visibility: hidden;
               transition: opacity 0.3s ease, visibility 0.3s ease;
          }

          .allocation-drawer-overlay.active {
               opacity: 1;
               visibility: visible;
          }

          .allocation-drawer {
               position: fixed;
               top: 0;
               right: 0;
               height: 100vh;
               width: 520px;
               max-width: 100vw;
               background: #fff;
               box-shadow: -4px 0 24px 0 rgba(0, 0, 0, 0.15);
               z-index: 1051;
               display: flex;
               flex-direction: column;
               transform: translateX(100%);
               transition: transform 0.3s ease;
          }

          .allocation-drawer.active {
               transform: translateX(0);
          }

          .allocation-drawer-header {
               display: flex;
               align-items: center;
               justify-content: space-between;
               padding: 20px 24px;
               border-bottom: 1px solid rgba(0, 0, 0, 0.08);
               flex-shrink: 0;
          }

          .allocation-drawer-title {
               font-size: 16px;
               font-weight: 600;
               color: #0F1723;
               margin: 0;
          }

          .allocation-drawer-body {
               flex: 1;
               overflow-y: auto;
               padding: 24px;
               display: flex;
               flex-direction: column;
               gap: 24px;
          }

          .event-summary-card {
               display: flex;
               align-items: flex-start;
               gap: 16px;
               padding: 16px;
               background: #F0F3F5;
               border-radius: 8px;
          }

          .event-summary-icon {
               width: 60px;
               height: 60px;
               display: flex;
               align-items: center;
               justify-content: center;
               background: #E2E8F0;
               border-radius: 6px;
               flex-shrink: 0;
          }

          .event-summary-info {
               flex: 1;
               display: grid;
               grid-template-columns: 1fr 1fr;
               gap: 16px 24px;
          }

          .event-info-field {
               display: flex;
               flex-direction: column;
               gap: 2px;
          }

          .event-info-label {
               font-size: 11px;
               font-weight: 400;
               color: #94A3B8;
          }

          .event-info-value {
               font-size: 14px;
               font-weight: 600;
               color: #0F1723;
          }

          .auto-detection-banner {
               display: flex;
               align-items: center;
               gap: 8px;
               padding: 10px 14px;
               background: #EFF6FF;
               border-radius: 6px;
          }

          .auto-detection-text {
               font-size: 13px;
               font-weight: 500;
               color: #2563EB;
          }

          .allocation-section-label {
               font-size: 12px;
               font-weight: 600;
               color: #94A3B8;
               letter-spacing: 0.48px;
               text-transform: uppercase;
               margin-bottom: 12px;
          }

          .allocation-table-wrapper {
               border: 1px solid rgba(0, 0, 0, 0.08);
               border-radius: 6px;
               overflow: hidden;
          }

          .allocation-table {
               width: 100%;
               border-collapse: collapse;
          }

          .allocation-table thead {
               background: #F5F7FA;
               border-bottom: 1px solid rgba(0, 0, 0, 0.08);
          }

          .allocation-table thead th {
               font-size: 11px;
               font-weight: 600;
               color: #94A3B8;
               letter-spacing: 0.44px;
               text-transform: uppercase;
               padding: 8px 12px;
               border: none;
          }

          .allocation-table thead th.col-right {
               text-align: right;
          }

          .allocation-table tbody tr {
               border-bottom: 1px solid rgba(0, 0, 0, 0.08);
          }

          .allocation-table tbody tr:last-child {
               border-bottom: none;
          }

          .allocation-table tbody td {
               padding: 10px 12px;
               vertical-align: middle;
               border: none;
          }

          .allocation-member-name {
               font-size: 13px;
               font-weight: 500;
               color: #0F1723;
               margin-bottom: 2px;
          }

          .allocation-booking-meta {
               font-size: 11px;
               color: #94A3B8;
               font-weight: 400;
               line-height: 1.4;
          }

          .allocation-input {
               width: 100%;
               padding: 6px 8px;
               border: 1px solid rgba(0, 0, 0, 0.08);
               border-radius: 4px;
               font-size: 13px;
               color: #0F1723;
               background: #fff;
               font-family: inherit;
               outline: none;
               text-align: right;
          }

          .allocation-input:focus {
               border-color: #3B63FF;
          }

          .remove-btn {
               display: inline-flex;
               align-items: center;
               gap: 4px;
               padding: 4px 8px;
               border: 1px solid rgba(0, 0, 0, 0.08);
               border-radius: 6px;
               background: #fff;
               font-size: 11px;
               font-weight: 500;
               color: #0F1723;
               cursor: pointer;
               font-family: inherit;
               white-space: nowrap;
          }

          .remove-btn:hover {
               background: #F5F7FA;
          }

          .add-reservation-row {
               display: flex;
               justify-content: flex-end;
               margin-top: 8px;
          }

          .add-reservation-btn {
               display: inline-flex;
               align-items: center;
               gap: 6px;
               padding: 6px 10px;
               border: 1px solid rgba(0, 0, 0, 0.08);
               border-radius: 6px;
               background: #fff;
               font-size: 12px;
               font-weight: 500;
               color: #0F1723;
               cursor: pointer;
               font-family: inherit;
          }

          .add-reservation-btn:hover {
               background: #F5F7FA;
          }

          .allocation-drawer-footer {
               display: flex;
               flex-direction: column;
               gap: 16px;
               padding: 20px 24px;
               border-top: 1px solid rgba(0, 0, 0, 0.08);
               background: #F5F7FA;
               flex-shrink: 0;
          }

          .allocation-totals {
               display: flex;
               flex-direction: column;
               gap: 8px;
          }

          .allocation-total-row {
               display: flex;
               justify-content: space-between;
               align-items: center;
          }

          .allocation-total-label {
               font-size: 13px;
               font-weight: 400;
               color: #94A3B8;
          }

          .allocation-total-value {
               font-size: 13px;
               font-weight: 600;
               color: #0F1723;
          }

          .allocation-remaining-value {
               font-size: 13px;
               font-weight: 600;
               color: #008A3A;
          }

          .lock-allocation-btn {
               display: flex;
               align-items: center;
               justify-content: center;
               gap: 8px;
               padding: 13px 12px;
               border: none;
               border-radius: 6px;
               background: #0F1723;
               font-size: 14px;
               font-weight: 600;
               color: #fff;
               cursor: pointer;
               font-family: inherit;
               width: 100%;
          }

          .lock-allocation-btn:hover {
               background: #1a2535;
          }

          .allocation-footer-note {
               font-size: 11px;
               color: #94A3B8;
               text-align: center;
               margin: 0;
          }

          @media (max-width: 576px) {
               .allocation-drawer {
                    width: 100vw;
               }
          }
     </style>
</head>

<body data-menu-color="dark">
     <div class="wrapper">
          @@include("partials/main-nav-fuel-logs.html")

          <!-- Main Area -->
          <div class="page-content p-0" style="background: #F5F7FA;">

               <!-- Custom Page Header -->
               <div class="fuel-logs-header">
                    <h1 class="fuel-logs-page-title">Fuel Logs Control</h1>
                    <div class="fuel-logs-sync-info">
                         <div class="sync-text-group">
                              <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                                   <path d="M2 8C2 11.3115 4.68851 14 8 14C11.3115 14 14 11.3115 14 8C14 4.68851 11.3115 2 8 2C6.32263 2.00631 4.71265 2.66082 3.50667 3.82667L2 5.33333" stroke="#94A3B8" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>
                                   <path d="M2 2V5.33333H5.33333M8 4.66667V8L10.6667 9.33333" stroke="#94A3B8" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>
                              </svg>
                              <span>Last synced: 2m ago</span>
                         </div>
                         <div class="user-avatar"></div>
                    </div>
               </div>

               <!-- Page Content -->
               <div class="fuel-logs-content">

                    <!-- Summary Cards Strip -->
                    <div class="row g-3 mb-4">

                         <!-- Pending Allocation -->
                         <div class="col-6 col-xl-3">
                              <div class="summary-card">
                                   <div class="summary-card-label">Pending Allocation</div>
                                   <div>
                                        <span class="summary-card-value">4</span>
                                        <span class="value-unit" style="font-size:14px; color:#94A3B8; font-weight:500; margin-left:4px;">events</span>
                                   </div>
                                   <div class="summary-card-status status-requires-action">Requires action</div>
                              </div>
                         </div>

                         <!-- Unbilled Fuel $ -->
                         <div class="col-6 col-xl-3">
                              <div class="summary-card">
                                   <div class="summary-card-label">Unbilled Fuel $</div>
                                   <div class="summary-card-value">$2,840</div>
                                   <div class="summary-card-status status-muted">Allocated but not invoiced</div>
                              </div>
                         </div>

                         <!-- Fuel Logged Today -->
                         <div class="col-6 col-xl-3">
                              <div class="summary-card">
                                   <div class="summary-card-label">Fuel Logged Today</div>
                                   <div>
                                        <span class="summary-card-value">120</span>
                                        <span class="value-unit" style="font-size:14px; color:#94A3B8; font-weight:500; margin-left:4px;">gal</span>
                                   </div>
                                   <div class="summary-card-status status-operational">Operational active</div>
                              </div>
                         </div>

                         <!-- Oldest Pending Event -->
                         <div class="col-6 col-xl-3">
                              <div class="summary-card">
                                   <div class="summary-card-label">Oldest Pending Event</div>
                                   <div class="summary-card-value-warning">3 <span style="font-size:16px;">days</span></div>
                                   <div class="summary-card-status status-warning">Warning: &gt; 48h</div>
                              </div>
                         </div>

                    </div>

                    <!-- Filter Bar -->
                    <div class="filter-bar mb-3">

                         <!-- Status Filter -->
                         <button class="filter-dropdown-btn">
                              <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                                   <path d="M12.8332 1.75H1.1665L5.83317 7.26833V11.0833L8.1665 12.25V7.26833L12.8332 1.75" stroke="#23303F" stroke-width="1.16667" stroke-linecap="round" stroke-linejoin="round"/>
                              </svg>
                              Status: All
                              <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                                   <path d="M3.5 5.25L7 8.75L10.5 5.25" stroke="#23303F" stroke-width="1.16667" stroke-linecap="round" stroke-linejoin="round"/>
                              </svg>
                         </button>

                         <!-- Marina Filter -->
                         <button class="filter-dropdown-btn">
                              Marina: South Dock
                              <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                                   <path d="M3.5 5.25L7 8.75L10.5 5.25" stroke="#23303F" stroke-width="1.16667" stroke-linecap="round" stroke-linejoin="round"/>
                              </svg>
                         </button>

                         <!-- Boat Filter -->
                         <button class="filter-dropdown-btn">
                              Boat: All
                              <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                                   <path d="M3.5 5.25L7 8.75L10.5 5.25" stroke="#23303F" stroke-width="1.16667" stroke-linecap="round" stroke-linejoin="round"/>
                              </svg>
                         </button>

                         <!-- Date Filter -->
                         <button class="filter-dropdown-btn">
                              Date: Last 7 Days
                              <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                                   <path d="M3.5 5.25L7 8.75L10.5 5.25" stroke="#23303F" stroke-width="1.16667" stroke-linecap="round" stroke-linejoin="round"/>
                              </svg>
                         </button>

                         <!-- Log Fuel Event Button -->
                         <button class="log-fuel-btn">
                              <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                                   <path d="M2.5 6H9.5M6 2.5V9.5" stroke="white" stroke-linecap="round" stroke-linejoin="round"/>
                              </svg>
                              Log Fuel Event
                         </button>

                    </div>

                    <!-- Fuel Logs Table -->
                    <div class="fuel-logs-table-card">
                         <div class="fuel-table-wrapper">
                              <table class="fuel-table">
                                   <thead>
                                        <tr>
                                             <th>Status</th>
                                             <th>Boat Name</th>
                                             <th>Fuel Date &amp; Time</th>
                                             <th class="align-right">Gallons</th>
                                             <th class="align-right">Total Cost</th>
                                             <th>Reservations Linked</th>
                                             <th>Allocation Progress</th>
                                             <th>Aging</th>
                                             <th>Action</th>
                                        </tr>
                                   </thead>
                                   <tbody>

                                        <!-- Row 1: Pending -->
                                        <tr class="row-pending-highlight">
                                             <td>
                                                  <span class="status-badge badge-pending">Pending</span>
                                             </td>
                                             <td>
                                                  <div class="boat-name">Sea Ray 290</div>
                                                  <div class="boat-location">South Dock &bull; Slip 14</div>
                                             </td>
                                             <td>
                                                  <div class="fuel-date">Feb 20, 2024</div>
                                                  <div class="fuel-time">08:30 AM</div>
                                             </td>
                                             <td class="align-right">45.0</td>
                                             <td class="align-right">
                                                  <span class="total-cost">$240.00</span>
                                             </td>
                                             <td>
                                                  <a href="#" class="reservations-linked-link">3 detected</a>
                                             </td>
                                             <td>
                                                  <div class="allocation-progress-cell">
                                                       <span class="progress-percent">0%</span>
                                                  </div>
                                             </td>
                                             <td>
                                                  <div class="aging-text-warning">3 days<br>ago</div>
                                             </td>
                                             <td>
                                                  <a href="#" class="action-btn action-btn-dark" onclick="openAllocationDrawer(event)">Allocate</a>
                                             </td>
                                        </tr>

                                        <!-- Row 2: Suggested -->
                                        <tr>
                                             <td>
                                                  <span class="status-badge badge-suggested">Suggested</span>
                                             </td>
                                             <td>
                                                  <div class="boat-name">Cobalt R5</div>
                                                  <div class="boat-location">North Marina &bull; Slip 02</div>
                                             </td>
                                             <td>
                                                  <div class="fuel-date">Feb 20, 2024</div>
                                                  <div class="fuel-time">10:15 AM</div>
                                             </td>
                                             <td class="align-right">30.0</td>
                                             <td class="align-right">
                                                  <span class="total-cost">$165.00</span>
                                             </td>
                                             <td>
                                                  <a href="#" class="reservations-linked-link">2 detected</a>
                                             </td>
                                             <td>
                                                  <div class="allocation-progress-cell">
                                                       <div class="progress-bar-track">
                                                            <div class="progress-bar-fill progress-fill-blue-auto" style="width: 50%;"></div>
                                                       </div>
                                                       <span class="progress-label">Auto</span>
                                                  </div>
                                             </td>
                                             <td>
                                                  <div class="aging-text">1 day ago</div>
                                             </td>
                                             <td>
                                                  <a href="#" class="action-btn action-btn-outline">Review</a>
                                             </td>
                                        </tr>

                                        <!-- Row 3: Locked -->
                                        <tr>
                                             <td>
                                                  <span class="status-badge badge-locked">Locked</span>
                                             </td>
                                             <td>
                                                  <div class="boat-name">Yamaha 242</div>
                                                  <div class="boat-location">South Dock &bull; Slip 08</div>
                                             </td>
                                             <td>
                                                  <div class="fuel-date">Feb 19, 2024</div>
                                                  <div class="fuel-time">04:00 PM</div>
                                             </td>
                                             <td class="align-right">20.0</td>
                                             <td class="align-right">
                                                  <span class="total-cost">$110.00</span>
                                             </td>
                                             <td>
                                                  <a href="#" class="reservations-linked-link">1 linked</a>
                                             </td>
                                             <td>
                                                  <div class="allocation-progress-cell">
                                                       <div class="progress-bar-track">
                                                            <div class="progress-bar-fill progress-fill-blue" style="width: 100%;"></div>
                                                       </div>
                                                       <span class="progress-label">100%</span>
                                                  </div>
                                             </td>
                                             <td>
                                                  <div class="aging-text">1 day ago</div>
                                             </td>
                                             <td>
                                                  <a href="#" class="action-btn action-btn-outline">View Split</a>
                                             </td>
                                        </tr>

                                        <!-- Row 4: Billed -->
                                        <tr>
                                             <td>
                                                  <span class="status-badge badge-billed">Billed</span>
                                             </td>
                                             <td>
                                                  <div class="boat-name">Boston Whaler</div>
                                                  <div class="boat-location">North Marina &bull; Slip 21</div>
                                             </td>
                                             <td>
                                                  <div class="fuel-date">Feb 18, 2024</div>
                                                  <div class="fuel-time">02:00 PM</div>
                                             </td>
                                             <td class="align-right">60.0</td>
                                             <td class="align-right">
                                                  <span class="total-cost">$330.00</span>
                                             </td>
                                             <td>
                                                  <a href="#" class="reservations-linked-link">4 linked</a>
                                             </td>
                                             <td>
                                                  <div class="allocation-progress-cell">
                                                       <div class="progress-bar-track track-gray">
                                                            <div class="progress-bar-fill progress-fill-gray" style="width: 100%;"></div>
                                                       </div>
                                                       <span class="progress-label">Done</span>
                                                  </div>
                                             </td>
                                             <td>
                                                  <div class="aging-text">2 days<br>ago</div>
                                             </td>
                                             <td>
                                                  <a href="#" class="action-btn action-btn-outline">View Invoice</a>
                                             </td>
                                        </tr>

                                   </tbody>
                              </table>
                         </div>
                    </div>

               </div>
               <!-- End Page Content -->

          </div>
          <!-- End Main Area -->

     </div>

     <!-- Allocation Split Drawer -->
     <div class="allocation-drawer-overlay" id="allocationDrawerOverlay" onclick="closeAllocationDrawer()"></div>

     <aside class="allocation-drawer" id="allocationDrawer" role="dialog" aria-modal="true" aria-label="Allocation Split">

          <!-- Drawer Header -->
          <div class="allocation-drawer-header">
               <h2 class="allocation-drawer-title">Allocation Split</h2>
               <button class="drawer-close-btn" onclick="closeAllocationDrawer()" aria-label="Close">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                         <path d="M15 5L5 15M5 5L15 15" stroke="#94A3B8" stroke-width="1.66667" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
               </button>
          </div>

          <!-- Drawer Body -->
          <div class="allocation-drawer-body">

               <!-- Event Summary -->
               <div class="event-summary-card">
                    <div class="event-summary-icon">
                         <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                              <path d="M4 2V22L6 21L8 22L10 21L12 22L14 21L16 22L18 21L20 22V2L18 3L16 2L14 3L12 2L10 3L8 2L6 3L4 2" stroke="#94A3B8" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                              <path d="M16 8H10C8.89617 8 8 8.89617 8 10C8 11.1038 8.89617 12 10 12H14C15.1038 12 16 12.8962 16 14C16 15.1038 15.1038 16 14 16H8M12 17.5V6.5" stroke="#94A3B8" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                         </svg>
                    </div>
                    <div class="event-summary-info">
                         <div class="event-info-field">
                              <span class="event-info-label">Boat</span>
                              <span class="event-info-value" id="alloc-boat-name">Sea Ray 290</span>
                         </div>
                         <div class="event-info-field">
                              <span class="event-info-label">Date</span>
                              <span class="event-info-value" id="alloc-date">Feb 20, 8:30 AM</span>
                         </div>
                         <div class="event-info-field">
                              <span class="event-info-label">Total Gallons</span>
                              <span class="event-info-value" id="alloc-gallons">45.0 gal</span>
                         </div>
                         <div class="event-info-field">
                              <span class="event-info-label">Total Cost</span>
                              <span class="event-info-value" id="alloc-total-cost">$240.00</span>
                         </div>
                    </div>
               </div>

               <!-- Auto Detection Banner -->
               <div class="auto-detection-banner">
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                         <g clip-path="url(#clip0_alloc_auto)">
                              <path d="M7.34496 1.87605C7.4039 1.56052 7.67931 1.33179 8.00029 1.33179C8.32128 1.33179 8.59669 1.56052 8.65563 1.87605L9.35629 5.58138C9.45814 6.12051 9.87984 6.54221 10.419 6.64405L14.1243 7.34472C14.4398 7.40365 14.6686 7.67907 14.6686 8.00005C14.6686 8.32103 14.4398 8.59645 14.1243 8.65538L10.419 9.35605C9.87984 9.45789 9.45814 9.87959 9.35629 10.4187L8.65563 14.1241C8.59669 14.4396 8.32128 14.6683 8.00029 14.6683C7.67931 14.6683 7.4039 14.4396 7.34496 14.1241L6.64429 10.4187C6.54245 9.87959 6.12075 9.45789 5.58163 9.35605L1.87629 8.65538C1.56077 8.59645 1.33203 8.32103 1.33203 8.00005C1.33203 7.67907 1.56077 7.40365 1.87629 7.34472L5.58163 6.64405C6.12075 6.54221 6.54245 6.12051 6.64429 5.58138L7.34496 1.87605M13.3336 1.33338V4.00005M14.667 2.66672H12.0003" stroke="#2563EB" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>
                              <path d="M1.33398 13.3333C1.33398 14.0692 1.93143 14.6667 2.66732 14.6667C3.4032 14.6667 4.00065 14.0692 4.00065 13.3333C4.00065 12.5974 3.4032 12 2.66732 12C1.93143 12 1.33398 12.5974 1.33398 13.3333H1.33398" stroke="#2563EB" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>
                         </g>
                         <defs>
                              <clipPath id="clip0_alloc_auto">
                                   <rect width="16" height="16" fill="white"/>
                              </clipPath>
                         </defs>
                    </svg>
                    <span class="auto-detection-text">3 reservations detected since last fuel event.</span>
               </div>

               <!-- Allocation Table Section -->
               <div>
                    <div class="allocation-section-label">Allocation</div>
                    <div class="allocation-table-wrapper">
                         <table class="allocation-table">
                              <thead>
                                   <tr>
                                        <th>Member</th>
                                        <th class="col-right">%</th>
                                        <th class="col-right">Gal</th>
                                        <th class="col-right">Cost</th>
                                        <th class="col-right">Actions</th>
                                   </tr>
                              </thead>
                              <tbody>

                                   <!-- Mike Ross -->
                                   <tr>
                                        <td>
                                             <div class="allocation-member-name">Mike Ross</div>
                                             <div class="allocation-booking-meta">Booking BK-1042 b7 Feb 20, 2024<br>2h b7 9am&ndash;11am</div>
                                        </td>
                                        <td>
                                             <input class="allocation-input" type="number" value="33" min="0" max="100" oninput="recalcAllocation(this, 'pct', 0)">
                                        </td>
                                        <td>
                                             <input class="allocation-input" type="number" value="15.0" min="0" step="0.1" oninput="recalcAllocation(this, 'gal', 0)">
                                        </td>
                                        <td>
                                             <input class="allocation-input" type="text" value="$80.00" readonly>
                                        </td>
                                        <td style="text-align:right;">
                                             <button class="remove-btn">
                                                  <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                       <path d="M5.83333 6.41675V9.91675M8.16667 6.41675V9.91675M11.0833 3.50008V11.6667C11.0833 12.3106 10.5606 12.8334 9.91667 12.8334H4.08333C3.43943 12.8334 2.91667 12.3106 2.91667 11.6667V3.50008M1.75 3.50008H12.25M4.66667 3.50008V2.33341C4.66667 1.68951 5.18943 1.16675 5.83333 1.16675H8.16667C8.81057 1.16675 9.33333 1.68951 9.33333 2.33341V3.50008" stroke="#94A3B8" stroke-width="1.16667" stroke-linecap="round" stroke-linejoin="round"/>
                                                  </svg>
                                                  Remove
                                             </button>
                                        </td>
                                   </tr>

                                   <!-- Sarah Jenkins -->
                                   <tr>
                                        <td>
                                             <div class="allocation-member-name">Sarah Jenkins</div>
                                             <div class="allocation-booking-meta">Booking BK-1043 b7 Feb 20, 2024<br>3h b7 11am&ndash;12pm</div>
                                        </td>
                                        <td>
                                             <input class="allocation-input" type="number" value="50" min="0" max="100" oninput="recalcAllocation(this, 'pct', 1)">
                                        </td>
                                        <td>
                                             <input class="allocation-input" type="number" value="22.5" min="0" step="0.1" oninput="recalcAllocation(this, 'gal', 1)">
                                        </td>
                                        <td>
                                             <input class="allocation-input" type="text" value="$120.00" readonly>
                                        </td>
                                        <td style="text-align:right;">
                                             <button class="remove-btn">
                                                  <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                       <path d="M5.83333 6.4165V9.9165M8.16667 6.4165V9.9165M11.0833 3.49984V11.6665C11.0833 12.3104 10.5606 12.8332 9.91667 12.8332H4.08333C3.43943 12.8332 2.91667 12.3104 2.91667 11.6665V3.49984M1.75 3.49984H12.25M4.66667 3.49984V2.33317C4.66667 1.68927 5.18943 1.1665 5.83333 1.1665H8.16667C8.81057 1.1665 9.33333 1.68927 9.33333 2.33317V3.49984" stroke="#94A3B8" stroke-width="1.16667" stroke-linecap="round" stroke-linejoin="round"/>
                                                  </svg>
                                                  Remove
                                             </button>
                                        </td>
                                   </tr>

                                   <!-- Tom Hiddle -->
                                   <tr>
                                        <td>
                                             <div class="allocation-member-name">Tom Hiddle</div>
                                             <div class="allocation-booking-meta">Booking BK-1044 b7 Feb 20, 2024<br>1h b7 2pm&ndash;3pm</div>
                                        </td>
                                        <td>
                                             <input class="allocation-input" type="number" value="17" min="0" max="100" oninput="recalcAllocation(this, 'pct', 2)">
                                        </td>
                                        <td>
                                             <input class="allocation-input" type="number" value="7.5" min="0" step="0.1" oninput="recalcAllocation(this, 'gal', 2)">
                                        </td>
                                        <td>
                                             <input class="allocation-input" type="text" value="$40.00" readonly>
                                        </td>
                                        <td style="text-align:right;">
                                             <button class="remove-btn">
                                                  <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                       <path d="M5.83333 6.4165V9.9165M8.16667 6.4165V9.9165M11.0833 3.49984V11.6665C11.0833 12.3104 10.5606 12.8332 9.91667 12.8332H4.08333C3.43943 12.8332 2.91667 12.3104 2.91667 11.6665V3.49984M1.75 3.49984H12.25M4.66667 3.49984V2.33317C4.66667 1.68927 5.18943 1.1665 5.83333 1.1665H8.16667C8.81057 1.1665 9.33333 1.68927 9.33333 2.33317V3.49984" stroke="#94A3B8" stroke-width="1.16667" stroke-linecap="round" stroke-linejoin="round"/>
                                                  </svg>
                                                  Remove
                                             </button>
                                        </td>
                                   </tr>

                              </tbody>
                         </table>
                    </div>

                    <!-- Add Reservation -->
                    <div class="add-reservation-row">
                         <button class="add-reservation-btn">
                              <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                                   <path d="M2.91699 6.99984H11.0837M7.00033 2.9165V11.0832" stroke="#0F1723" stroke-width="1.16667" stroke-linecap="round" stroke-linejoin="round"/>
                              </svg>
                              Add reservation
                         </button>
                    </div>
               </div>

          </div>
          <!-- End Drawer Body -->

          <!-- Drawer Footer -->
          <div class="allocation-drawer-footer">
               <div class="allocation-totals">
                    <div class="allocation-total-row">
                         <span class="allocation-total-label">Allocated</span>
                         <span class="allocation-total-value" id="alloc-allocated-display">$240.00</span>
                    </div>
                    <div class="allocation-total-row">
                         <span class="allocation-total-label">Remaining</span>
                         <span class="allocation-remaining-value" id="alloc-remaining-display">$0.00</span>
                    </div>
               </div>
               <button class="lock-allocation-btn">
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                         <path d="M3.33333 7.33301H12.6667C13.4026 7.33301 14 7.93045 14 8.66634V13.333C14 14.0689 13.4026 14.6663 12.6667 14.6663H3.33333C2.59745 14.6663 2 14.0689 2 13.333V8.66634C2 7.93045 2.59745 7.33301 3.33333 7.33301V7.33301" stroke="white" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>
                         <path d="M4.66699 7.33301V4.66634C4.66699 2.82662 6.16061 1.33301 8.00033 1.33301C9.84004 1.33301 11.3337 2.82662 11.3337 4.66634V7.33301" stroke="white" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    Lock Allocation
               </button>
               <p class="allocation-footer-note">Locking will push charges to invoice queue.</p>
          </div>

     </aside>

     <!-- Log Fuel Event Drawer -->
     <div class="fuel-log-overlay" id="fuelLogOverlay" onclick="closeFuelLogDrawer()"></div>

     <aside class="fuel-log-drawer" id="fuelLogDrawer" role="dialog" aria-modal="true" aria-label="Log Fuel Event">

          <!-- Drawer Header -->
          <div class="drawer-header">
               <div class="drawer-header-left">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                         <path d="M11.667 10.8333H13.3337C14.2541 10.8333 15.0003 11.5795 15.0003 12.5V14.1667C15.0003 15.0865 15.7471 15.8333 16.667 15.8333C17.5869 15.8333 18.3337 15.0865 18.3337 14.1667V8.335C18.334 7.8908 18.157 7.46483 17.842 7.15167L15.0003 4.16667M11.667 17.5V4.16667C11.667 3.24619 10.9208 2.5 10.0003 2.5H4.16699C3.24652 2.5 2.50033 3.24619 2.50033 4.16667V17.5M1.66699 17.5H12.5003M2.50033 7.5H11.667" stroke="#3B63FF" stroke-width="1.66667" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <h2 class="drawer-title">Log Fuel Event</h2>
               </div>
               <button class="drawer-close-btn" onclick="closeFuelLogDrawer()" aria-label="Close">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                         <path d="M15 5L5 15M5 5L15 15" stroke="#94A3B8" stroke-width="1.66667" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
               </button>
          </div>

          <!-- Drawer Body -->
          <div class="drawer-body">

               <!-- Select Boat -->
               <div class="drawer-field-group">
                    <span class="drawer-field-label">Select Boat</span>
                    <div class="drawer-boat-selector">
                         <div class="drawer-boat-icon">
                              <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                                   <g clip-path="url(#clip0_drawer_boat)">
                                        <path d="M7.99967 6.79259V9.33325M7.99967 1.33325V3.33325M12.6663 8.66659V4.66659C12.6663 3.9307 12.0689 3.33325 11.333 3.33325H4.66634C3.93045 3.33325 3.33301 3.9307 3.33301 4.66659V8.66659" stroke="#94A3B8" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>
                                        <path d="M12.92 13.3333C13.6372 12.123 14.0106 10.7401 14 9.33332L8.54138 6.90732C8.19673 6.7542 7.80336 6.7542 7.45872 6.90732L2.00005 9.33332C1.96919 11.2291 2.63586 13.0702 3.87338 14.5066" stroke="#94A3B8" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>
                                        <path d="M1.33301 13.9999C1.73301 14.3333 2.13301 14.6666 2.99967 14.6666C4.66634 14.6666 4.66634 13.3333 6.33301 13.3333C7.19967 13.3333 7.59967 13.6666 7.99967 13.9999C8.39967 14.3333 8.79968 14.6666 9.66634 14.6666C11.333 14.6666 11.333 13.3333 12.9997 13.3333C13.8663 13.3333 14.2663 13.6666 14.6663 13.9999" stroke="#94A3B8" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>
                                   </g>
                                   <defs>
                                        <clipPath id="clip0_drawer_boat">
                                             <rect width="16" height="16" fill="white"/>
                                        </clipPath>
                                   </defs>
                              </svg>
                         </div>
                         <div class="drawer-boat-info">
                              <div class="drawer-boat-name">Chaparral 23 Surf</div>
                              <div class="drawer-boat-meta">Returned 10m ago &bull; North Dock</div>
                         </div>
                         <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                              <path d="M4 6L8 10L12 6" stroke="#94A3B8" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>
                         </svg>
                    </div>
               </div>

               <!-- Date & Time -->
               <div class="drawer-row">
                    <div class="drawer-field-group">
                         <label class="drawer-field-label" for="fuelDate">Date</label>
                         <input class="drawer-input" type="date" id="fuelDate" value="2024-02-21">
                    </div>
                    <div class="drawer-field-group">
                         <label class="drawer-field-label" for="fuelTime">Time</label>
                         <input class="drawer-input" type="time" id="fuelTime" value="14:30">
                    </div>
               </div>

               <!-- Gallons & Price per Gallon -->
               <div class="drawer-row">
                    <div class="drawer-field-group">
                         <label class="drawer-field-label" for="gallonsAdded">Gallons Added</label>
                         <div class="drawer-input-with-suffix">
                              <input class="drawer-input" type="number" id="gallonsAdded" value="0.0" min="0" step="0.1" oninput="updateTotalCost()">
                              <span class="drawer-input-suffix">gal</span>
                         </div>
                    </div>
                    <div class="drawer-field-group">
                         <label class="drawer-field-label" for="pricePerGallon">Price per Gallon</label>
                         <div class="drawer-input-with-prefix">
                              <span class="drawer-input-prefix">$</span>
                              <input class="drawer-input" type="number" id="pricePerGallon" value="5.45" min="0" step="0.01" oninput="updateTotalCost()">
                         </div>
                    </div>
               </div>

               <!-- Total Cost -->
               <div class="drawer-total-cost">
                    <span class="drawer-total-cost-label">Total Cost</span>
                    <span class="drawer-total-cost-value" id="totalCostDisplay">$0.00</span>
               </div>

               <!-- Staff on Duty -->
               <div class="drawer-field-group">
                    <span class="drawer-field-label">Staff on Duty</span>
                    <div class="drawer-staff-box">Mike Ross (Dockmaster)</div>
               </div>

               <!-- Upload Receipt / Meter Photo -->
               <div class="drawer-field-group">
                    <span class="drawer-field-label">Upload Receipt / Meter Photo</span>
                    <div class="drawer-upload-area">
                         <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                              <path d="M13.997 4C14.732 3.99999 15.4079 4.40317 15.757 5.05L16.243 5.95C16.5921 6.59683 17.268 7.00001 18.003 7H20C21.1038 7 22 7.89617 22 9V18C22 19.1038 21.1038 20 20 20H4C2.89617 20 2 19.1038 2 18V9C2 7.89617 2.89617 7 4 7H5.997C6.73126 7.00004 7.40649 6.59774 7.756 5.952L8.245 5.048C8.59451 4.40226 9.26974 3.99996 10.004 4H13.997" stroke="#94A3B8" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                              <path d="M9 13C9 14.6557 10.3443 16 12 16C13.6557 16 15 14.6557 15 13C15 11.3443 13.6557 10 12 10C10.3443 10 9 11.3443 9 13V13" stroke="#94A3B8" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                         </svg>
                         <span class="drawer-upload-text">Tap to take photo or upload</span>
                    </div>
               </div>

               <!-- Notes -->
               <div class="drawer-field-group">
                    <label class="drawer-field-label" for="fuelNotes">Notes (Optional)</label>
                    <textarea class="drawer-textarea" id="fuelNotes" placeholder="Any issues with the pump or fueling process?"></textarea>
               </div>

          </div>
          <!-- End Drawer Body -->

          <!-- Drawer Footer -->
          <div class="drawer-footer">
               <button class="drawer-cancel-btn" onclick="closeFuelLogDrawer()">Cancel</button>
               <button class="drawer-save-btn">Save Fuel Log</button>
          </div>

     </aside>

     <script>
          function openFuelLogDrawer() {
               document.getElementById('fuelLogDrawer').classList.add('active');
               document.getElementById('fuelLogOverlay').classList.add('active');
               document.body.style.overflow = 'hidden';
          }

          function closeFuelLogDrawer() {
               document.getElementById('fuelLogDrawer').classList.remove('active');
               document.getElementById('fuelLogOverlay').classList.remove('active');
               document.body.style.overflow = '';
          }

          function updateTotalCost() {
               var gallons = parseFloat(document.getElementById('gallonsAdded').value) || 0;
               var price = parseFloat(document.getElementById('pricePerGallon').value) || 0;
               var total = gallons * price;
               document.getElementById('totalCostDisplay').textContent = '$' + total.toFixed(2);
          }

          document.querySelector('.log-fuel-btn').addEventListener('click', openFuelLogDrawer);

          document.addEventListener('keydown', function(e) {
               if (e.key === 'Escape') {
                    closeFuelLogDrawer();
                    closeAllocationDrawer();
               }
          });

          function openAllocationDrawer(e) {
               e.preventDefault();
               document.getElementById('allocationDrawer').classList.add('active');
               document.getElementById('allocationDrawerOverlay').classList.add('active');
               document.body.style.overflow = 'hidden';
          }

          function closeAllocationDrawer() {
               document.getElementById('allocationDrawer').classList.remove('active');
               document.getElementById('allocationDrawerOverlay').classList.remove('active');
               document.body.style.overflow = '';
          }

          function recalcAllocation(inputEl, type, rowIndex) {
               var totalCost = 240;
               var totalGal = 45;
               var row = inputEl.closest('tr');
               var inputs = row.querySelectorAll('input');
               var pctInput = inputs[0];
               var galInput = inputs[1];
               var costInput = inputs[2];

               if (type === 'pct') {
                    var pct = parseFloat(pctInput.value) || 0;
                    var gal = (pct / 100) * totalGal;
                    var cost = (pct / 100) * totalCost;
                    galInput.value = gal.toFixed(1);
                    costInput.value = '$' + cost.toFixed(2);
               } else {
                    var gal = parseFloat(galInput.value) || 0;
                    var pct = (gal / totalGal) * 100;
                    var cost = (gal / totalGal) * totalCost;
                    pctInput.value = Math.round(pct);
                    costInput.value = '$' + cost.toFixed(2);
               }
          }
     </script>

     @@include("partials/vendor-scripts.html")
</body>

</html>
